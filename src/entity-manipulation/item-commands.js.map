{"version":3,"file":"item-commands.js","sourceRoot":"","sources":["item-commands.ts"],"names":[],"mappings":"AAAA,kFAAkF;AAClF,CAAC;IACG,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QAEf,8BAA8B;QAC9B,KAAK,CAAC,YAAY,GAAG;YACjB,uDAAuD;YACvD,QAAQ,EAAE,UAAU,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS;gBAChD,mCAAmC;gBACnC,IAAI,EAAE,GAAG,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,gBAAgB,CAAC;qBAC7C,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC;qBACvB,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;gBACpC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;oBAAC,MAAM,CAAC;gBAEhB,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,kBAAkB,GAAG,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;qBAC7D,OAAO,CAAC;oBACL,QAAQ,CAAC,MAAM,EAAE,CAAC;gBACtB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,KAAK;oBACpB,IAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC;oBACtD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBAEnB,4CAA4C;oBAC5C,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,GAAG,CAAC;wBAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,sBAAsB,CAAC,GAAG,KAAK,CAAC,CAAC;oBACjF,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,GAAG,CAAC;wBAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;gBAChF,CAAC,CAAC,CAAC;YACX,CAAC;SACJ,CAAC;QACF,YAAY;IAEhB,CAAC;AACL,CAAC,CAAC,EAAE,CAAC","sourcesContent":["// this enhances the $2sxc client controller with stuff only needed when logged in\r\n(function() {\r\n    if (window.$2sxc) {\r\n        \r\n        //#region contentItem Commands\r\n        $2sxc.contentItems = {\r\n            // delete command - try to really delete a content-item\r\n            \"delete\": function (sxc, itemId, itemGuid, itemTitle) {\r\n                // first show main warning / get ok\r\n                var ok = confirm($2sxc.translate(\"Delete.Confirm\")\r\n                    .replace(\"{id}\", itemId)\r\n                    .replace(\"{title}\", itemTitle));\r\n                if (!ok) return;\r\n\r\n                sxc.webApi.delete(\"app-content/any/\" + itemGuid, null, null, true)\r\n                    .success(function () {\r\n                        location.reload();\r\n                    }).error(function (error) {\r\n                        var msgJs = $2sxc.translate(\"Delete.ErrCheckConsole\");\r\n                        console.log(error);\r\n\r\n                        // check if it's a permission config problem\r\n                        if (error.status === 401) alert($2sxc.translate(\"Delete.ErrPermission\") + msgJs);\r\n                        if (error.status === 400) alert($2sxc.translate(\"Delete.ErrInUse\") + msgJs);\r\n                    });\r\n            }\r\n        };\r\n        //#endregion\r\n\r\n    }\r\n})();"]}