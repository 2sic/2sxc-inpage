{"version":3,"file":"dnn-app.component.js","sourceRoot":"","sources":["../src/dnn-app.component.ts"],"names":[],"mappings":";;;;;;;AAWA;;;;;;;;AAAA;IACE;;;;;OAKG;IACH,yBACE,OAAmB,EACnB,OAAgB,EAChB,mBAA6B;;QAG7B,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;;QAG/B,EAAE,CAAA,CAAC,CAAC,mBAAmB,CAAC,CAAA,CAAC;;YAEvB,OAAO,CAAC,aAAa,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAS,CAAM;gBAC/D,EAAE,CAAA,CAAC,CAAC,CAAC,OAAO,IAAE,EAAE,CAAC;oBACf,CAAC,CAAC,cAAc,EAAE,CAAC;aACtB,CAAC,CAAC;SAEJ;KACF;0BAnCH;IAoCC,CAAA;;;;;;;;AAzBD,2BAyBC","sourcesContent":["import { Context } from './context/context.service';\r\nimport { ElementRef } from '@angular/core';\r\n\r\n// This is a base class for all apps which run in DNN.\r\n// It ensures that the rest of the parts depending on DNN parameters are correctly initialized.\r\n\r\n/**\r\n * A root app component which initializes the context-providers once the app is loaded\r\n * This is the earliest moment we can access the ElementRef, because before that \r\n * it's not attached to the DOM, so auto-detect wouldn't work.\r\n */\r\nexport class DnnAppComponent {\r\n  /**\r\n   * \r\n   * @param element the angular ElementRef - required to auto-detect moduleId and more\r\n   * @param context the context service, which handles and shares auto-detection\r\n   * @param enableDefaultSubmit \r\n   */\r\n  constructor(\r\n    element: ElementRef,\r\n    context: Context,\r\n    enableDefaultSubmit?: boolean\r\n  ) {\r\n    // auto-config to pick up tab-id, module id, etc.\r\n    context.autoConfigure(element);\r\n\r\n    // prevent asp.net submit action caused by enter-keys inside our app\r\n    if(!enableDefaultSubmit){\r\n      // console.log(\"dnn-sxc-angular - will prevent enter-buttons from causing submit\")\r\n      element.nativeElement.addEventListener('keydown', function(e: any) {\r\n        if(e.keyCode==13)\r\n          e.preventDefault();\r\n      });\r\n  \r\n    }\r\n  }\r\n}\r\n"]}